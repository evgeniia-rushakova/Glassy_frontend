var modalSearch=document.querySelector(".modal-search"),searchLink=document.querySelector(".search-hover"),loginLink=document.querySelector(".login-hover"),modalLogin=document.querySelector(".modal-login"),bucketLink=document.querySelector(".bucket-hover"),modalBucket=document.querySelector(".modal-bucket"),contactButton=document.querySelector(".contact-form-button"),modalFeedback=document.querySelector(".modal-feedback"),modalclose=document.querySelector(".modal-close"),email=document.querySelector(".user-email"),form=document.querySelector(".login-form"),wrapperForm=document.querySelector(".modal-login-wrapper"),feedbackForm=document.querySelector(".feedback-form"),feedname=feedbackForm.querySelector("[name=name]"),feedMail=feedbackForm.querySelector("[name=email]"),feedText=feedbackForm.querySelector("[name=feedback-text]"),password=document.querySelector(".user-password"),overlay=document.querySelector(".overlay"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}searchLink.addEventListener("click",function(e){e.preventDefault(),modalSearch.classList.add("modal-show-search")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalSearch.classList.contains("modal-show-search")&&(modalSearch.classList.remove("modal-show-search"),modalSearch.classList.remove("modal-error")))}),loginLink.addEventListener("click",function(e){modalLogin.classList.add("modal-show-login")}),form.addEventListener("submit",function(e){email.value&&password.value?isStorageSupport&&localStorage.setItem("email",email.value):(e.preventDefault(),wrapperForm.classList.remove("modal-error"),wrapperForm.offsetWidth=wrapperForm.offsetWidth,wrapperForm.classList.add("modal-error"),storage?(email.value=storage,password.focus()):password.focus())}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalLogin.classList.contains("modal-show-login")&&(modalLogin.classList.remove("modal-show-login"),modalLogin.classList.remove("modal-error")))}),bucketLink.addEventListener("click",function(e){e.preventDefault(),modalBucket.classList.add("modal-show-bucket")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalBucket.classList.contains("modal-show-bucket")&&(modalBucket.classList.remove("modal-show-bucket"),modalBucket.classList.remove("modal-show-bucket")))}),contactButton.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("modal-show-feedback"),overlay.classList.add("overlay-show")}),feedbackForm.addEventListener("submit",function(e){feedname.value&&feedMail.value&&feedText.value||(e.preventDefault(),feedbackForm.classList.remove("modal-error"),feedbackForm.offsetWidth=feedbackForm.offsetWidth,feedbackForm.classList.add("modal-error"))}),modalclose.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.remove("modal-show-feedback"),overlay.classList.remove("overlay-show")});